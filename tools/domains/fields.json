{
  "name": "core template manager",
  "description": "### Service Name: `core-template`\n\nThe `core-template` service is a centralized, channel-agnostic, multi-tenant service responsible for managing all message templates used across the platform. It operates as an upstream component in the messaging ecosystem, decoupled from the specific delivery mechanisms such as Slack, Email, SMS, or Microsoft Teams.\n\nIts core function is to provide a single source of truth for the definition, versioning, validation, and lifecycle of communication templates. These templates are categorized by both transport channel (e.g., email, slack) and business use case (e.g., invoice, statement, quote). Each template includes metadata, a payload schema for validation, and the rendered content stored in a blob storage layer.\n\nThe service emits domain events for template creation and updates to EventStoreDB, enabling full auditability and supporting downstream projections. These events are then used to populate Redis with lightweight, query-optimized metadata so that worker services can retrieve and render templates efficiently without direct API dependencies.\n\nThe `core-template` service ensures consistency, version control, and separation of concerns across the platform, enabling downstream services to remain stateless and focused solely on message delivery logic.\n",
  "62498fe2-f963-485a-ba03-e0886cd8f8c5": {
    "name": "template",
    "description": "Core entity for managing message templates across all communication channels. Each template represents a reusable message format with versioning, payload validation, and content storage capabilities. Templates are categorized by transport mechanism and business use case to enable efficient retrieval and rendering.",
    "cols": {
      "code": {
        "name": "code",
        "type": "VARCHAR",
        "description": "Unique identifier for the template, used as a business key for referencing templates across the platform. Format: {transport}-{use_case}-{variant}",
        "example": "slack-invoice-reminder"
      },
      "name": {
        "name": "name",
        "type": "VARCHAR",
        "description": "Human-readable display name for the template, used in admin interfaces and documentation",
        "example": "Invoice Payment Reminder - Slack"
      },
      "description": {
        "name": "description",
        "type": "VARCHAR",
        "description": "Detailed description of the template's purpose, when to use it, and any special instructions for content creators",
        "example": "Automated reminder sent to customers when an invoice payment is overdue. Includes payment link and support contact information."
      },
      "transport": {
        "name": "transport",
        "type": "ENUM",
        "description": "Communication channel or delivery mechanism for the template. Enum values: ['slack', 'email', 'sms', 'teams', 'webhook', 'push']",
        "example": "slack"
      },
      "use_case": {
        "name": "use_case",
        "type": "ENUM",
        "description": "Business use case category for the template. Enum values: ['invoice', 'statement', 'quote', 'reminder', 'notification', 'welcome', 'confirmation', 'alert', 'report']",
        "example": "invoice"
      },
      "version": {
        "name": "version",
        "type": "INT",
        "description": "Semantic version number for the template, incremented when content or schema changes. Enables rollback and A/B testing capabilities",
        "example": "3"
      },
      "content": {
        "name": "content",
        "type": "TEXT",
        "description": "Template content with placeholders for dynamic data. Format varies by transport (HTML for email, JSON for Slack blocks, plain text for SMS). Stored in blob storage for large templates.",
        "example": "Hi {{customer.name}}, your invoice #{{invoice.number}} for ${{invoice.amount}} is now {{invoice.days_overdue}} days overdue. Please pay by clicking {{payment.link}}"
      },
      "content_url": {
        "name": "content_url",
        "type": "TEXT",
        "description": "URL to retrieve the template content from blob storage. Used for large templates or when content contains binary data like images",
        "example": "https://storage.core-platform.com/templates/slack-invoice-reminder/v3/content.json"
      },
      "payload_schema": {
        "name": "payload_schema",
        "type": "JSON",
        "description": "JSON Schema definition for validating payload data before template rendering. Ensures data integrity and provides documentation for required fields",
        "example": "{\"type\":\"object\",\"properties\":{\"customer\":{\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\"}}},\"invoice\":{\"type\":\"object\",\"properties\":{\"number\":{\"type\":\"string\"},\"amount\":{\"type\":\"number\"},\"days_overdue\":{\"type\":\"integer\"}}},\"payment\":{\"type\":\"object\",\"properties\":{\"link\":{\"type\":\"string\",\"format\":\"uri\"}}}},\"required\":[\"customer\",\"invoice\",\"payment\"]}"
      },
      "active": {
        "name": "active",
        "type": "BOOLEAN",
        "description": "Indicates whether the template is currently available for use. Inactive templates are retained for audit purposes but cannot be used for new messages",
        "example": "true"
      }
    }
  }
}
