# NestJS Microservice Generator Checklist

Use this checklist to ensure every step of your NestJS microservice setup is complete before development begins.

---

### ‚úÖ 1. Configure `package.json`

- [ ] Open `package.json` and fill in:

  ```json
  {
    "name": "<your-service-name>",
    "version": "1",
    "description": "<what the service does>",
    "author": "<your name or team>"
  }
  ```

- [ ] Tip: Use ChatGPT to help describe your service clearly.

---

### ‚úÖ 2. Add Root Project License

- [ ] Open `LICENSE.txt`.
- [ ] Choose and insert a license (MIT, Apache 2.0, or proprietary).
- [ ] Example proprietary notice:

  ```
  ¬© 2025 YourCompany. All rights reserved.
  This code is confidential.
  ```

---

### ‚úÖ 3. Add Generator License Header

- [ ] Open `tools/domain/license.txt`.
- [ ] Insert a reusable license header:

  ```ts
  /**
   * ¬© 2025 YourCompany. All rights reserved.
   * Auto-generated file. Do not modify manually.
   */
  ```

- [ ] This will be injected into all generated TypeScript files.

---

### ‚úÖ 4. Complete `README.md`

- [ ] Add:

  - [ ] Service name & description
  - [ ] Installation:

    ```bash
    npm install && npm run start:dev
    ```

  - [ ] Example usage:

    ```bash
    curl http://localhost:3000/endpoint
    ```

  - [ ] API reference or Swagger link
  - [ ] Environment variables:

    ```env
    PORT=3000
    DATABASE_URL=postgres://...
    ```

  - [ ] Build/test commands:

    ```bash
    npm run build && npm run test
    ```

  - [ ] Contributors & license reference

---

### ‚úÖ 5. Finalize `RUNBOOK.md`

- [ ] Include:

  - [ ] Start/stop:

    ```bash
    docker-compose up -d
    ```

  - [ ] Requirements: Node 18+, PostgreSQL, Redis (if applicable)
  - [ ] Health check:

    ```bash
    curl http://localhost:3000/health
    ```

  - [ ] Logs: location & format
  - [ ] Known errors & recovery steps
  - [ ] Backup/restore:

    ```bash
    pg_dump > backup.sql
    redis-cli save
    ```

  - [ ] Monitoring & dashboards
  - [ ] CI/CD deployment snippet:

    ```yaml
    - name: Build and Push
      run: docker build -t service .
    ```

---

### ‚úÖ 6. Run the Code Generator

- [ ] Open a terminal:

  ```bash
  cd tools/domain
  node build
  ```

- [ ] Confirm generated folders:

  - `src/domain`, `src/commands`, `src/controllers`, `src/events`

- [ ] Check license header is present
- [ ] Validate output matches `parameters.json`
- [ ] Tip: Use `git status` to verify new files

---

üéâ All set! You‚Äôre now ready to build and scale your microservice.

# Complete Setup Guide for NestJS Microservice Generator

This guide walks you through all the necessary steps to configure, license, document, and generate a NestJS microservice using the custom generator tool.

---

## 1. Configure `package.json`

Edit the `package.json` file to accurately reflect your service details:

```json
{
  "name": "<your-service-name>",
  "version": "1",
  "description": "<short functional summary of your service>",
  "author": "<your name or team>"
}
```

üí° _Tip: Use ChatGPT to generate a clear, concise description, e.g.,_ `"A NestJS microservice for managing user onboarding workflows."`

---

## 2. Define Project License

Open the `LICENSE.txt` file in the project root and include the appropriate license:

Examples:

- MIT License:

  ```text
  MIT License
  Copyright (c) 2025 YourCompany
  Permission is hereby granted, free of charge...
  ```

- Proprietary:

  ```text
  ¬© 2025 YourCompany. All rights reserved. This code is confidential.
  ```

üìé _Tip: Refer to [choosealicense.com](https://choosealicense.com) if unsure._

---

## 3. Add License Header for Generated Files

In `tools/domain/license.txt`, add the license header that will be included at the top of all generated `.ts` files:

```ts
/**
 * ¬© 2025 YourCompany. All rights reserved.
 * Auto-generated by the microservice code generator.
 * Do not modify manually.
 */
```

‚úÖ _This improves maintainability and asserts ownership._

---

## 4. Document Your Service in `README.md`

Update `README.md` to include:

- **Service Name**: `customer-onboarding-service`
- **Description**: "Handles the onboarding workflow for new customers."
- **Installation**:

  ```bash
  npm install
  npm run start:dev
  ```

- **Usage**:

  ```bash
  curl -X POST http://localhost:3000/onboard
  ```

- **API Overview**: Link to Swagger UI if applicable, e.g. `http://localhost:3000/api`
- **Environment Variables**:

  ```env
  PORT=3000
  DATABASE_URL=postgres://user:pass@host:5432/db
  ```

- **Build/Test Commands**:

  ```bash
  npm run build
  npm run test
  ```

- **Contributors** and **License Reference**

üìå _Clear documentation supports onboarding and DevOps alignment._

---

## 5. Finalize `RUNBOOK.md` with DevOps Details

Ensure `RUNBOOK.md` includes operational information:

- **Startup/Shutdown**:

  ```bash
  docker-compose up -d
  ```

- **System Requirements**:

  - Node.js 18+
  - PostgreSQL
  - Redis (if used)

- **Health Checks**:

  ```bash
  curl http://localhost:3000/health
  ```

- **Logging**:

  - Format: JSON
  - Location: `logs/service.log` or container stdout

- **Error Handling**: Document known error codes and retry policies
- **Backup & Restore**:

  ```bash
  pg_dump <db> > backup.sql
  redis-cli save
  ```

- **Incident Response**:

  - Links to dashboards (e.g., Grafana, Prometheus)
  - Escalation procedures

- **CI/CD Deployment Example**:

  ```yaml
  - name: Build and Push Docker Image
    run: docker build -t yourcompany/onboarding-service .
  ```

‚ö†Ô∏è _A complete runbook ensures smooth production operation and team response readiness._

---

## 6. Generate Service Code

Run the generator to scaffold your microservice:

### Step-by-step:

```bash
cd tools/domain
node build
```

### After running:

- Check that the following folders are created:

  - `src/domain`
  - `src/commands`
  - `src/controllers`
  - `src/events`

- Confirm each file includes the correct license header
- Verify that the generated structure matches your `parameters.json`

üîç _Tip: Use `git status` or `diff` to review generated changes quickly._

---

‚úÖ You now have a structured and documented NestJS microservice ready for development and deployment.
